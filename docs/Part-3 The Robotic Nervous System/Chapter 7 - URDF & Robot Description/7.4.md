# 7.4: Xacro

## What is Xacro?

Xacro stands for XML Macros. It is a macro language for XML that is used to make URDF files more readable and maintainable.

With Xacro, you can:

*   **Define constants:** Define constants for commonly used values, such as link lengths and radii.
*   **Create macros:** Create reusable macros for generating parts of the URDF, such as a leg or an arm.
*   **Include other files:** Include other Xacro files, which allows you to split a large URDF into smaller, more manageable files.
*   **Perform mathematical calculations:** Perform simple mathematical calculations.

## Using Xacro

A Xacro file has a `.xacro` extension. You can use the `xacro` command-line tool to convert a Xacro file to a URDF file.

```bash
xacro my_robot.xacro > my_robot.urdf
```

## Example Xacro

Here is an example of a simple Xacro file that defines a two-link arm using a macro:

```xml
<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="my_arm">

  <xacro:property name="M_PI" value="3.14159"/>

  <xacro:macro name="create_link" params="name length">
    <link name="${name}">
      <visual>
        <geometry>
          <box size="${length} 0.1 0.1"/>
        </geometry>
      </visual>
    </link>
  </xacro:macro>

  <xacro:create_link name="link1" length="0.5"/>
  <xacro:create_link name="link2" length="0.5"/>

  <joint name="joint1" type="revolute">
    <parent link="base_link"/>
    <child link="link1"/>
    <origin xyz="0 0 0.05"/>
    <axis xyz="0 0 1"/>
    <limit lower="-${M_PI}" upper="${M_PI}" effort="10" velocity="1"/>
  </joint>

  <joint name="joint2" type="revolute">
    <parent link="link1"/>
    <child link="link2"/>
    <origin xyz="0.5 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-${M_PI}" upper="${M_PI}" effort="10" velocity="1"/>
  </joint>

</robot>
```

Xacro is an essential tool for working with complex URDFs, such as those for humanoid robots. It makes the models much easier to create, read, and maintain.
