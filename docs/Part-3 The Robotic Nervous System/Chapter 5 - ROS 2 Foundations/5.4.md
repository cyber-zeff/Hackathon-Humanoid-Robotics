# 5.4: Services and Actions

## Services

Services are a way for nodes to communicate with each other in a request-response manner. A service has a single server that provides the service and one or more clients that use it.

When a client calls a service, it sends a request message to the server and waits for a response. The server receives the request, performs some computation, and then sends a response message back to the client.

## Service Definition

A service is defined by a service definition file (`.srv`), which specifies the request and response message types.

For example, the `AddTwoInts` service is defined as follows:

```
int64 a
int64 b
---
int64 sum
```

The first part of the file is the request message type, and the second part (after the `---`) is the response message type.

## Actions

Actions are used for long-running tasks that provide feedback. An action has three parts:

*   **Goal:** The request to perform the task.
*   **Feedback:** Periodic updates on the progress of the task.
*   **Result:** The final outcome of the task.

## Action Definition

An action is defined by an action definition file (`.action`). For example, the `Fibonacci` action is defined as:

```
int32 order
---
int32[] sequence
---
int32[] partial_sequence
```

The three parts of the file are the goal, result, and feedback message types, respectively, separated by `---`.

## When to use Topics, Services, or Actions

*   **Topics:** Use topics for continuous data streams, such as sensor readings or robot state.
*   **Services:** Use services for short, transactional interactions where you need a response.
*   **Actions:** Use actions for long-running tasks where you want to be able to monitor the progress and possibly cancel the task.
